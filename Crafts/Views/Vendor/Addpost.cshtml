@model List<BL.SharedModels.ProductModel>
@{
    Layout = "~/Views/Shared/_Profile.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Addpost</title>

    <link href="~/Assests/css/bootstrap.css" rel="stylesheet" />
    <script src="~/Assests/js/jquery-3.2.1.min.js"></script>
    <script src="~/Assests/js/popper.js"></script>
    <script src="~/Assests/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <style>
        .dropbtn {
            background-color: #4CAF50;
            color: white;
            padding: 16px;
            font-size: 16px;
            border: none;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

            .dropdown-content a {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
            }

                .dropdown-content a:hover {
                    background-color: #ddd;
                }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown:hover .dropbtn {
            background-color: #3e8e41;
        }

        .image-upload > input {
            display: none;
        }

        .image-upload img {
            width: 80px;
            cursor: pointer;
        }


    </style>
</head>
<body>



    @section profileData{
        <div class="blog_right_sidebar">
            @*<aside class="single_sidebar_widget search_widget">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search Posts">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">
                                <i class="lnr lnr-magnifier"></i>
                            </button>
                        </span>
                    </div>
                     /input-group
                    <div class="br"></div>
                </aside>*@
            <aside class="single_sidebar_widget author_widget">
                <img class="mt-5 author_img rounded-circle" src="~/Assests/img/chef.jpg" width="150px" alt="">
                <h4>May Hassan</h4>
                <p>Homemade Food Maker</p>
                <div class="social_icon">
                    <a href="#">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a href="#">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a href="#">
                        <i class="fa fa-github"></i>
                    </a>
                    <a href="#">
                        <i class="fa fa-behance"></i>
                    </a>
                </div>
                <p>
                    Boot camps have its supporters andit sdetractors. Some people do not understand why you should
                    have to spend money on boot camp when you can get. Boot camps have itssuppor ters andits
                    detractors.
                </p>
                <div class="br"></div>
            </aside>
            <aside class="single_sidebar_widget ads_widget">
                <a href="#">
                    <img class="img-fluid" src="~/Assests/img/blog/add.jpg" alt="">
                </a>
                <div class="br"></div>
            </aside>
            <aside class="single_sidebar_widget post_category_widget">
                <h4 class="widget_title">Post Catgories</h4>
                <ul class="list cat-list">

                    <li>
                        <a href="#" class="d-flex justify-content-between">
                            <p>Fashion</p>
                            <p>59</p>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="d-flex justify-content-between">
                            <p>Art</p>
                            <p>29</p>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="d-flex justify-content-between">
                            <p>Food</p>
                            <p>15</p>
                        </a>
                    </li>

                </ul>
                <div class="br"></div>
            </aside>

            <aside class="single-sidebar-widget tag_cloud_widget">
                <h4 class="widget_title">Subscribed Categories</h4>
                <ul class="list">

                    <li>
                        <a href="#">Fashion</a>
                    </li>
                    <li>
                        <a href="#">Food</a>
                    </li>
                    <li>
                        <a href="#">Technology</a>
                    </li>
                    <li>
                        <a href="#">Lifestyle</a>
                    </li>
                    <li>
                        <a href="#">Art</a>
                    </li>


                </ul>
            </aside>
        </div>
    }




    <div> 
        <div >
           
            <div  style="padding-left:150px">
                    <input id="city" style="margin:40px;text-align:center" type="text" class="form-control"  placeholder="Add new product">
            </div>
        </div>
          @foreach (var i in Model)
          {
            <div>
                @{ var getimage = Convert.ToBase64String(i.Image);
                    var picture = string.Format("data:image/jpeg;base64,{0}", getimage);
                }
            </div>
                 <div class="col-lg-12 row rounded mx-auto d-block" style=" margin-bottom:25px ;min-height:300px">
                     <img src="@Url.Content(picture)" class="img-fluid img-thumbnail  rounded float-right" style="width:200px ; height:200px" />
                     <div class="col-lg-12 justify-content-center">
                         <div class="col-12"> <span style="font-weight:bold">Catigory Name :</span> @i.Catigory_name </div>
                         <div class="col-12"> <span style="font-weight:bold">Product Name :</span> @i.Product_Name</div>
                         <div class="col-12"><span style="font-weight:bold">Product Description :</span> @i.Product_Description</div>
                         <div class="col-12"> <span style="font-weight:bold">Product Price :</span> @i.Product_Price</div>
                     </div>
                 </div>
                 
                    }
    </div>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myModalLabel">New product</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    
                </div>
                <div class="modal-body">
                    <form id="post-form" action="/Vendor/Addpost" method="post" enctype="multipart/form-data">
                        <div class="image-upload">
                            <label for="file-input">
                                <img src="~/Assests/img/upload.png" />
                            </label>
                            <input id="file-input" type="file" />
                        </div>
                        <br />
                        <input type="text" name="Product_Description" placeholder="description" class="form-control col-12" />
                        <br />
                        <input type="number" name="Product_Price" placeholder="price" class="form-control col-12" />
                        <br />
                        <input type="text" name="Product_Name" placeholder="product Name" class="form-control col-12" />
                        <br />
                          <select class="dropdown dropdown-menu  col-12 form-control"name="cat_name"  >
                              <option class="dropdown-item"> Choose Catigory</option>
                               @foreach (var item in ViewBag.cat)
                               {
                                   <option class="dropdown-item">
                                       @item.Cat_Name 
                                   </option>
                               }
                          </select>
                        <br /><br />
                        <button type="submit"id="submit"  style="float:right" class="btn btn-outline-primary form-control">Post</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    
    <script>
        $('#city').focus(function () {
            //open bootsrap modal
            $('#myModal').modal({
                show: true
            });
        });

        $('#submit').click(function () {
            
            input = $('#post-form');
            for (i = 0; i < input.length; i++) {
                cities.push(input[i].value);
            }

            //if (cities.length === 0) {
            //    $('.error').text('please select a city...stupid');
            //} else {
            //    $('.error').text('');
            //    var data = JSON.stringify(cities);
            //    console.log(data);
            //}
        });
    </script>
    <script>
        preview(files)
        {
            if (files.length === 0)
                return;

            var mimeType = files[0].type;
            if (mimeType.match(/image\/*/) == null) {
                this.message = "Only images are supported.";
                return;
            }
            var reader = new FileReader();
            this.imagePath = files;
            reader.readAsDataURL(files[0]);
            reader.onload = (_event) => {
                this.imgURL = reader.result;
                this.displayinput = true;
            }
        }
        
    </script>
    <script>
        var newpost = document.getElementById("post-form");
        console.log(newpost.profilepic.value);
        var newdiv = document.getElementById("new-div");
        var postimg = document.createElement("img");
        postimg.setAttribute("src", newpost.profilepic.value);
        var postdescription = document.createElement("p");
        postdescription.innerText = newpost.description.value;
    </script>
    <script>
        document.getElementById("openinsertedimg").click(function () {
            document.getElementById("input").click();
        })
    </script>
</body>
</html>

